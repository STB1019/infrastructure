apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: cert-manager-vault-token
  namespace: cert-manager
data:
  token: "aHZzLmJzalRicTlpZ2hpanRZcmFxalVGUmM0Ngo="

---

apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: http-issuer
  namespace: cert-manager
spec:
  vault:
    path: pki_http/sign/server
    server: https://192.168.1.174:8200
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzRENDQWoyZ0F3SUJBZ0lVUTR0N015MEMwSmVPUG9CcG83WG4zenExZjZZd0NnWUlLb1pJemowRUF3UXcKZnpFT01Bd0dBMVVFQmhNRlNYUmhiSGt4RURBT0JnTlZCQWdUQjBKeVpYTmphV0V4RGpBTUJnTlZCQWNUQlZWdQphVUpUTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTEV3UnliMjkwTVNjd0pRWURWUVFECkV4NXBaV1ZsTG1Wc2RYZ3VhVzVuTG5WdWFXSnpMbWwwSUZKdmIzUWdRMEV3SGhjTk1qSXhNakF6TVRBeE1UVTAKV2hjTk1qTXhNakF6TVRBeE1qSTBXakJJTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTApFd1JvZEhSd01TSXdJQVlEVlFRREV4bHpZaTVwWldWbExtVnNkWGd1YVc1bkxuVnVhV0p6TG1sME1JR2JNQkFHCkJ5cUdTTTQ5QWdFR0JTdUJCQUFqQTRHR0FBUUJYeGRFMFZJb0gxZXNhOHVIdmtyV2VTZGNjWm01SE93UjROTy8KR1ZpUEdJQ0JwZ0syWjdzdmZITjNobGJSZ1hRcmNJYVNUcGM4a0g4NW9LN2t1QlFwazhFQmtweXg0S0xzQXFqZApEQzJvN3BTSVptanp1R1FMNmhCM215bm12U0MwSUJxTXJIKzZSUytrZ1lhT1cyYmNheDMzMkZOd1hEMXY3SmF0CmhlUkg3UDJCTkJTamdZb3dnWWN3RGdZRFZSMFBBUUgvQkFRREFnRUdNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHcKSFFZRFZSME9CQllFRkVQSDNQdmxOZ09ZWlBiM1hLLzN0eVJkSmtlVU1COEdBMVVkSXdRWU1CYUFGRk1YQldCZAo0UmQ1WHBTNWM0enBFOEU5UFkzQk1DUUdBMVVkRVFRZE1CdUNHWE5pTG1sbFpXVXVaV3gxZUM1cGJtY3VkVzVwClluTXVhWFF3Q2dZSUtvWkl6ajBFQXdRRGdZd0FNSUdJQWtJQkRVaUJsbk8zS1ZPcWFTUmRIK0U1azJwNEk0N0QKSE1SZ3I0M2pWTFNpaEw1V3BTSnZ2bUZXNTN0aVJ1U2I3aEFyVTNPRGpjZ1RXQ0JneVdVdll2dDluNkVDUWdFegp6d2ZldUxUV1czbDRkaFdTcFpncHFmcEkyTFlsUTdEbFc4b3RjOTdXcDBOZjVJRGpZTDAyNWp2MTQ3NzF5R1NMCmZHYUZFcWlmalpjRXZHRUhSWHdQbXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDeVRDQ0FpcWdBd0lCQWdJUkFJalVKTjFFQmJvKzZZc2JPMnNVSXVBd0NnWUlLb1pJemowRUF3UXdmekVPCk1Bd0dBMVVFQmhNRlNYUmhiSGt4RURBT0JnTlZCQWdUQjBKeVpYTmphV0V4RGpBTUJnTlZCQWNUQlZWdWFVSlQKTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTEV3UnliMjkwTVNjd0pRWURWUVFERXg1cApaV1ZsTG1Wc2RYZ3VhVzVuTG5WdWFXSnpMbWwwSUZKdmIzUWdRMEV3SUJjTk1qSXhNakF6TVRBeE1qSTBXaGdQCk1qRXlNakV4TURreE1ERXlNalJhTUg4eERqQU1CZ05WQkFZVEJVbDBZV3g1TVJBd0RnWURWUVFJRXdkQ2NtVnoKWTJsaE1RNHdEQVlEVlFRSEV3VlZibWxDVXpFVE1CRUdBMVVFQ2hNS2FXVmxaWE5pTVRBeE9URU5NQXNHQTFVRQpDeE1FY205dmRERW5NQ1VHQTFVRUF4TWVhV1ZsWlM1bGJIVjRMbWx1Wnk1MWJtbGljeTVwZENCU2IyOTBJRU5CCk1JR2JNQkFHQnlxR1NNNDlBZ0VHQlN1QkJBQWpBNEdHQUFRQXk4LzdBaGU5b0tXNTNTM2lxN3dMTTlKb1dJWEsKejRRVklMeHZwZEY4cUw1VnUwTGU4aStzV0NYVVpxb0h4UFhyNXY2c3Boa0ZyRnJ5WXNYTmVlaGNnKzBCZDI5RwpoV3RRRjFXREtMQlB6YitUS01ES2hnd25jbVBYZUZ4a3Vnc1ptUVhpQlVLdVJzNTNHTEJhd01DTk9YTWFTSjQrCkEvblRpNGFiSnlzMXdIMWRlam1qUWpCQU1BNEdBMVVkRHdFQi93UUVBd0lCQmpBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01CMEdBMVVkRGdRV0JCUlRGd1ZnWGVFWGVWNlV1WE9NNlJQQlBUMk53VEFLQmdncWhrak9QUVFEQkFPQgpqQUF3Z1lnQ1FnR0QxYzB2SDd4a04vM3kxVDU4SS9rY2NnR2ZmTXlPQ0graXpJQkU4aEY3bHJOblo4a01sdEpECjhwRURIVTZBdnc5MDhuTkdib242RjdIaHhZRGgzVHVhbmdKQ0FTZDZjd2tlMXlDWVhaa1M0b2w0dysyS1pPZ2sKdDhTNmJZRktkQXFMMXV1c3FmR0dvK05UZTFJenJaUm5nNzF2NEhmbkRPVEQ3ZVdSTjZwR2RwZjQrT0ZmCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    auth:
      tokenSecretRef:
          name: cert-manager-vault-token
          key: token

---

apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: pg-issuer
  namespace: cert-manager
spec:
  vault:
    path: pki_pg/sign/server
    server: https://192.168.1.174:8200
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzRENDQWoyZ0F3SUJBZ0lVUTR0N015MEMwSmVPUG9CcG83WG4zenExZjZZd0NnWUlLb1pJemowRUF3UXcKZnpFT01Bd0dBMVVFQmhNRlNYUmhiSGt4RURBT0JnTlZCQWdUQjBKeVpYTmphV0V4RGpBTUJnTlZCQWNUQlZWdQphVUpUTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTEV3UnliMjkwTVNjd0pRWURWUVFECkV4NXBaV1ZsTG1Wc2RYZ3VhVzVuTG5WdWFXSnpMbWwwSUZKdmIzUWdRMEV3SGhjTk1qSXhNakF6TVRBeE1UVTAKV2hjTk1qTXhNakF6TVRBeE1qSTBXakJJTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTApFd1JvZEhSd01TSXdJQVlEVlFRREV4bHpZaTVwWldWbExtVnNkWGd1YVc1bkxuVnVhV0p6TG1sME1JR2JNQkFHCkJ5cUdTTTQ5QWdFR0JTdUJCQUFqQTRHR0FBUUJYeGRFMFZJb0gxZXNhOHVIdmtyV2VTZGNjWm01SE93UjROTy8KR1ZpUEdJQ0JwZ0syWjdzdmZITjNobGJSZ1hRcmNJYVNUcGM4a0g4NW9LN2t1QlFwazhFQmtweXg0S0xzQXFqZApEQzJvN3BTSVptanp1R1FMNmhCM215bm12U0MwSUJxTXJIKzZSUytrZ1lhT1cyYmNheDMzMkZOd1hEMXY3SmF0CmhlUkg3UDJCTkJTamdZb3dnWWN3RGdZRFZSMFBBUUgvQkFRREFnRUdNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHcKSFFZRFZSME9CQllFRkVQSDNQdmxOZ09ZWlBiM1hLLzN0eVJkSmtlVU1COEdBMVVkSXdRWU1CYUFGRk1YQldCZAo0UmQ1WHBTNWM0enBFOEU5UFkzQk1DUUdBMVVkRVFRZE1CdUNHWE5pTG1sbFpXVXVaV3gxZUM1cGJtY3VkVzVwClluTXVhWFF3Q2dZSUtvWkl6ajBFQXdRRGdZd0FNSUdJQWtJQkRVaUJsbk8zS1ZPcWFTUmRIK0U1azJwNEk0N0QKSE1SZ3I0M2pWTFNpaEw1V3BTSnZ2bUZXNTN0aVJ1U2I3aEFyVTNPRGpjZ1RXQ0JneVdVdll2dDluNkVDUWdFegp6d2ZldUxUV1czbDRkaFdTcFpncHFmcEkyTFlsUTdEbFc4b3RjOTdXcDBOZjVJRGpZTDAyNWp2MTQ3NzF5R1NMCmZHYUZFcWlmalpjRXZHRUhSWHdQbXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDeVRDQ0FpcWdBd0lCQWdJUkFJalVKTjFFQmJvKzZZc2JPMnNVSXVBd0NnWUlLb1pJemowRUF3UXdmekVPCk1Bd0dBMVVFQmhNRlNYUmhiSGt4RURBT0JnTlZCQWdUQjBKeVpYTmphV0V4RGpBTUJnTlZCQWNUQlZWdWFVSlQKTVJNd0VRWURWUVFLRXdwcFpXVmxjMkl4TURFNU1RMHdDd1lEVlFRTEV3UnliMjkwTVNjd0pRWURWUVFERXg1cApaV1ZsTG1Wc2RYZ3VhVzVuTG5WdWFXSnpMbWwwSUZKdmIzUWdRMEV3SUJjTk1qSXhNakF6TVRBeE1qSTBXaGdQCk1qRXlNakV4TURreE1ERXlNalJhTUg4eERqQU1CZ05WQkFZVEJVbDBZV3g1TVJBd0RnWURWUVFJRXdkQ2NtVnoKWTJsaE1RNHdEQVlEVlFRSEV3VlZibWxDVXpFVE1CRUdBMVVFQ2hNS2FXVmxaWE5pTVRBeE9URU5NQXNHQTFVRQpDeE1FY205dmRERW5NQ1VHQTFVRUF4TWVhV1ZsWlM1bGJIVjRMbWx1Wnk1MWJtbGljeTVwZENCU2IyOTBJRU5CCk1JR2JNQkFHQnlxR1NNNDlBZ0VHQlN1QkJBQWpBNEdHQUFRQXk4LzdBaGU5b0tXNTNTM2lxN3dMTTlKb1dJWEsKejRRVklMeHZwZEY4cUw1VnUwTGU4aStzV0NYVVpxb0h4UFhyNXY2c3Boa0ZyRnJ5WXNYTmVlaGNnKzBCZDI5RwpoV3RRRjFXREtMQlB6YitUS01ES2hnd25jbVBYZUZ4a3Vnc1ptUVhpQlVLdVJzNTNHTEJhd01DTk9YTWFTSjQrCkEvblRpNGFiSnlzMXdIMWRlam1qUWpCQU1BNEdBMVVkRHdFQi93UUVBd0lCQmpBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01CMEdBMVVkRGdRV0JCUlRGd1ZnWGVFWGVWNlV1WE9NNlJQQlBUMk53VEFLQmdncWhrak9QUVFEQkFPQgpqQUF3Z1lnQ1FnR0QxYzB2SDd4a04vM3kxVDU4SS9rY2NnR2ZmTXlPQ0graXpJQkU4aEY3bHJOblo4a01sdEpECjhwRURIVTZBdnc5MDhuTkdib242RjdIaHhZRGgzVHVhbmdKQ0FTZDZjd2tlMXlDWVhaa1M0b2w0dysyS1pPZ2sKdDhTNmJZRktkQXFMMXV1c3FmR0dvK05UZTFJenJaUm5nNzF2NEhmbkRPVEQ3ZVdSTjZwR2RwZjQrT0ZmCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    auth:
      tokenSecretRef:
          name: cert-manager-vault-token
          key: token